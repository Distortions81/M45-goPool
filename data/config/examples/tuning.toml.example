# Generated tuning config example (copy to a real config and edit as needed)

# Rate limits ([rate_limits])
# - max_conns: Maximum simultaneous Stratum connections allowed (checked on accept; requires restart).
# - disable_connect_rate_limits: Disable accept/connect throttling entirely (intended for local-only pools on trusted networks; requires restart).
# - auto_accept_rate_limits: When true, computes accept throttles from max_conns on startup (overrides explicit accept_* values; requires restart).
# - max_accepts_per_second: Accepts/sec during the initial restart/reconnect window (requires restart).
# - max_accept_burst: Token bucket burst size for accepts (requires restart).
# - accept_reconnect_window: Target seconds for all miners to reconnect after restart (used for auto_accept_rate_limits).
# - accept_burst_window: Initial burst window (seconds) after restart (used for auto_accept_rate_limits).
# - accept_steady_state_window: Seconds after startup before switching to steady-state throttles (requires restart).
# - accept_steady_state_rate: Accepts/sec once steady-state mode activates (requires restart).
# - accept_steady_state_reconnect_percent: Expected % of miners reconnecting during normal operation (used for auto_accept_rate_limits; requires restart).
# - accept_steady_state_reconnect_window: Seconds to spread expected steady-state reconnects across (used for auto_accept_rate_limits; requires restart).
# - stratum_messages_per_minute: Per-connection Stratum messages/min before disconnect (0 disables; requires restart).
#
# Difficulty ([difficulty])
# - default_difficulty: Fallback difficulty if no suggest_* arrives during the startup delay; 0 means "use min_difficulty" (or the built-in minimum if min_difficulty=0).
# - target_shares_per_min: VarDiff target share cadence used for difficulty adjustment and hashrate EMA sample window sizing.
# - min_difficulty / max_difficulty: VarDiff clamp for miner connections; 0 disables that clamp (no limit; requires restart).
# - lock_suggested_difficulty: If true, the first mining.suggest_difficulty / mining.suggest_target locks that connection to the suggested difficulty (disables VarDiff; requires restart).
# - enforce_suggested_difficulty_limits: If true, ban/disconnect when miner-suggested difficulty is outside min_difficulty/max_difficulty.
#
# Mining ([mining])
# - extranonce2_size: Per-share extranonce2 byte length used for submit parsing and validation (requires restart).
# - template_extra_nonce2_size: Template extranonce2 byte length used in generated jobs (requires restart).
# - job_entropy: Entropy bytes added to per-job coinbase tags (requires restart).
# - coinbase_scriptsig_max_bytes: Maximum allowed coinbase scriptSig size in bytes (requires restart).
# - difficulty_step_granularity: Quantize difficulty to 2^(k/N) steps (N=1 power-of-two, N=2 half, N=3 third, N=4 quarter). Higher values are finer; requires restart.
#
# Hashrate ([hashrate])
# - hashrate_ema_tau_seconds: EMA time constant for per-connection hashrate smoothing (seconds; requires restart).
# - hashrate_cumulative_enabled: Blend per-connection EMA with cumulative hashrate for per-worker display (requires restart).
# - hashrate_recent_cumulative_enabled: Allow short-window cumulative (vardiff window) to influence per-worker display (requires restart).
#
# Peer cleaning ([peer_cleaning])
# - enabled/max_ping_ms/min_peers: Optional cleanup of high-latency peers.
#
#

[difficulty]
  default_difficulty = 0.0
  enforce_suggested_difficulty_limits = false
  lock_suggested_difficulty = false
  max_difficulty = 0.0
  min_difficulty = 256.0
  target_shares_per_min = 15.0
  vardiff_enabled = true

[hashrate]
  hashrate_cumulative_enabled = false
  hashrate_ema_tau_seconds = 450.0
  hashrate_recent_cumulative_enabled = false

[mining]
  coinbase_scriptsig_max_bytes = 100
  difficulty_step_granularity = 4
  disable_pool_job_entropy = false
  extranonce2_size = 4
  job_entropy = 4
  template_extra_nonce2_size = 8

[peer_cleaning]
  enabled = false
  max_ping_ms = 250.0
  min_peers = 30

[rate_limits]
  accept_burst_window = 5
  accept_reconnect_window = 15
  accept_steady_state_rate = 50
  accept_steady_state_reconnect_percent = 5.0
  accept_steady_state_reconnect_window = 60
  accept_steady_state_window = 100
  auto_accept_rate_limits = true
  disable_connect_rate_limits = false
  max_accept_burst = 1000
  max_accepts_per_second = 500
  max_conns = 50000
  stratum_messages_per_minute = 0
